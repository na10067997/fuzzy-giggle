package helloworld;

import javax.swing.*;

import java.awt.Color;
import java.awt.Container;
import java.awt.Font;
import java.awt.event.*;

@SuppressWarnings("serial")
public class Upgrades extends ClickerFace implements ActionListener
{
	private JButton btn;
	private JButton temp = new JButton();
	private JLabel lb;
	private JLabel jb;
	private String string;
	private int price;
	private static int count;
	private int level = 1;
	private boolean hasHappened = false;
	private boolean hasHappened2 = false;
	private Container c;

	public Upgrades(String string, int price, Container c, int co, JLabel jb)
	{
		btn = new JButton();
		lb = new JLabel();
		btn.setText("UPGRADE " + string + " : " + price);
		btn.addActionListener(this);
		c.add(btn);
		this.string = string;
		this.price = price;
		count = co;
		hasHappened = false;
		hasHappened2 = false;
		this.c = c;
		level = 1;
		this.jb = jb;
	}

	public Upgrades(int c)
	{
		count = c;
	}

	@Override
	public void actionPerformed(ActionEvent e)
	{
		if (e.getActionCommand().equals("UPGRADE " + string + " : " + price))
		{

			if (count >= price)
			{
				count -= price;
				level++;

				ClickerFace.subFromCount(price);
				price += (price / 3);
				jb.setText("" + count);
				ClickerFace.addLevel();

				btn.setText("UPGRADE " + string + " : " + price);

				if (hasHappened == false)
				{
					lb.setText(string + " LEVEL : " + level);
					c.add(lb);
					hasHappened = true;
				}

				lb.setText(string + " LEVEL : " + level);
				if (ClickerFace.getLevel() == 10 && hasHappened2 == false)
				{
					unlockGloves();
				} else if (ClickerFace.getLevel() == 19 && hasHappened2 == false)
				{
					unlockKnuckles();
				} else if (ClickerFace.getLevel() == 29 && hasHappened2 == false)
				{
					unlockBat();
				} else if (ClickerFace.getLevel() == 38 && hasHappened2 == false)
				{
					unlockDagger();
				} else if (ClickerFace.getLevel() == 47 && hasHappened2 == false)
				{
					win();
				}
			}
		}
		if (e.getActionCommand().equals("UNLOCK " + string + " : " + (price + 200)))
		{
			upgrade();
		}
	}

	private void getGloves()
	{
		Upgrades btn = new Upgrades("BOXING GLOVES", price * 2, c, count, jb);
		hasHappened2 = true;
		this.btn.setVisible(false);
		lb.setVisible(false);
		temp.setVisible(false);
		ClickerFace.setMult(2);
	}

	private void getKnuckles()
	{
		Upgrades btn = new Upgrades("BRASS KNUCKLES", price * 2, c, count, jb);
		hasHappened2 = true;
		this.btn.setVisible(false);
		lb.setVisible(false);
		temp.setVisible(false);
		ClickerFace.setMult(6);
	}

	private void getBat()
	{
		Upgrades btn = new Upgrades("BASEBALL BAT", price * 2, c, count, jb);
		hasHappened2 = true;
		this.btn.setVisible(false);
		lb.setVisible(false);
		temp.setVisible(false);
		ClickerFace.setMult(14);
	}

	private void getDagger()
	{
		Upgrades btn = new Upgrades("DAGGER", price * 2, c, count, jb);
		hasHappened2 = true;
		this.btn.setVisible(false);
		lb.setVisible(false);
		temp.setVisible(false);
		ClickerFace.setMult(20);
	}

	private void unlockGloves()
	{
		string = "BOXING GLOVES";
		temp.setText("UNLOCK " + string + " : " + (price + 200));
		temp.addActionListener(this);
		c.add(temp);
	}

	private void unlockKnuckles()
	{
		string = "BRASS KNUCKLES";
		temp.setText("UNLOCK " + string + " : " + (price + 200));
		temp.addActionListener(this);
		c.add(temp);
	}

	private void unlockBat()
	{
		string = "BASEBALL BAT";
		temp.setText("UNLOCK " + string + " : " + (price + 200));
		temp.addActionListener(this);
		c.add(temp);
	}

	private void unlockDagger()
	{
		string = "DAGGER";
		temp.setText("UNLOCK " + string + " : " + (price + 200));
		temp.addActionListener(this);
		c.add(temp);
	}

	private void win()
	{
		hasHappened2 = true;
		this.btn.setVisible(false);
		lb.setVisible(false);
		JLabel youWin = new JLabel("YOU WIN");
		youWin.setFont(new Font("Comic Sans MS", Font.BOLD, 95));
		c.add(youWin);
	}

	public static void setThisCount(int c)
	{
		count = c;
	}

	private void getButton(String s)
	{
		if (s.equals("BOXING GLOVES"))
		{
			getGloves();
		} else if (s.equals("BRASS KNUCKLES"))
		{
			getKnuckles();
		} else if (s.equals("BASEBALL BAT"))
		{
			getBat();
		} else if (s.equals("DAGGER"))
		{
			getDagger();
		}
	}

	private void upgrade()
	{
		if (count >= (price + 200))
		{

			count -= (price + 200);
			getButton(string);
		}
	}
}
